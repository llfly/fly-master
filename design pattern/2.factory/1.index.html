<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
</html>
<script type="text/javascript">
//工厂方法模式
//工厂模式与简单工厂模式的区别在于，它不是另外使用一个类或对象来创建，而是使用一个子类。
//按照正式定义，工厂是一个将其成员对象的实例化推迟到子类中进行的类。
//安全模式类  通过this去判断类型
//安全的工厂方法
	var Factory = function(type,content){
		if(this instanceof Factory){
			var s = new this[type](content);
			return s;
		}else{
			return new Factory(type,content);
		}
	}
	Factory.prototype = {
		Java:function(content){
			console.log(content + ' this is java');
		},
		javascript:function(content){
			console.log(content + ' this is javascript');
		},
		php:function(content){
			console.log(content + ' this is php');
		}
	};


	var data = [{type:'javascript',content:'hello'},
	{type:'Java',content:'java'},
	{type:'php',content:'php'}
	];

	for(var i = 0 ; i <data.length;i++){
		Factory(data[i].type,data[i].content);
	}
</script>